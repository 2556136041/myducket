<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{width: 800px;height: 400px;margin: 50px auto;}
			#canvas{background-color: #999999;}
		</style>
	</head>
	<body>
		<div id="box">
			<canvas id="canvas" width="800" height="400"></canvas>
		</div>
		<script type="text/javascript">
			//获取画板,铺上画纸或画布,获取绘画环境
			var canvas = document.getElementById("canvas");
			var cv = canvas.getContext("2d");
			cv.strokeStyle="#ff0000";
			cv.lineWidth=6;
			
			//画板加鼠标按下事件
			canvas.onmousedown=function(e){
				//获取鼠标位置
				var ev = window.event || e;
				var s_left = ev.layerX || ev.offsetX;
				var s_top = ev.layerY || ev.offsetY;
				//document.title = s_left +"||"+s_top;
				//开启路径
				cv.beginPath();
				//定义画笔开始位置
				cv.moveTo(s_left,s_top);
				//------------------------------------
				//画板加鼠标移动事件
				canvas.onmousemove=function(e){
					//获取鼠标位置
					var ev = window.event || e;
					var n_left = ev.layerX || ev.offsetX;
					var n_top = ev.layerY || ev.offsetY;
					//document.title = n_left +"||"+n_top;
					//把路径画到当前位置
					cv.lineTo(n_left,n_top);
					//开始绘画
					cv.stroke();					
				};				
			};
			//鼠标松开事件,取消canvas上的鼠标移动事件
			canvas.onmouseup=function(){
				canvas.onmousemove= null;				
			};
			
			
		</script>
		
		
	</body>
</html>
