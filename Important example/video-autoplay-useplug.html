<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title></title>
  </head>
  <body>
    <!--howler.js 是一个js音频库,最初是为一个 H5 游戏引擎所开发，但也可用于其他的 Web 项目
    官网：https://howlerjs.com/
    支持主流浏览器，支持多种音频格式，支持3D游戏，自动缓存，支持淡入淡出效果，轻量，纯JS，无第三方依赖-->
    <button id="btn1">play</button>
    <button id="btn2">pause</button>
    <button id="btn3">stop</button>
    <button id="btn4">playing</button>
    <button id="btn5">非静音</button>
    <button id="btn6">volume</button>
    <button id="btn7">noloop</button>
    <button id="btn8">duration</button>
    <button id="btn9">seek</button>

    <script src="../js/howler.min.js" ></script>
    <script type="text/javascript">
      //实例化音频
      var sound = new Howl({
        //初始化配置
        src:"../audio/qb.mp3",  //资源路径
        //src:["qb.mp3","a.wav","b.ogg"],//让浏览器自动识别可以播放的音频文件
        
        //自动播放,true表示自动播放，false表示不自动播放
        autoplay:true,
        
        //循环播放,true表示循环，false表示不循环
        //loop:true,
        
        //音量, 从0-1 ，默认1
        volume:1,        
        
        //事件:
        onload:function(){
          console.log("音频就绪");
        },
        
        onplay:function(){
          console.log("开始播放");
        },
        
        onend:function(){
          console.log("播放结束");
        },
        
        onpause:function(){
          console.log("暂停播放");
        },
        
        onstop:function(){
          console.log("停止播放");
        },          
        
        
      });     

      document.getElementById('btn1').onclick=function(){
           sound.play();
      };

      document.getElementById('btn2').onclick=function(){
           sound.pause();
      };

      document.getElementById('btn3').onclick=function(){
           sound.stop();
      };

      document.getElementById('btn4').onclick=function(){
           alert(sound.playing());
      };
      
      document.getElementById('btn5').onclick=function(){
           var mute = sound.mute();
           if(mute==false){
                sound.mute(true);
                this.innerHTML="静音";
           }else{
                sound.mute(false);
                this.innerHTML="非静音";
           }
      };

      document.getElementById('btn6').onclick=function(){
           alert(sound.volume());
           sound.volume(0.5);
      };

      document.getElementById('btn7').onclick=function(){
           var loop=sound.loop();
           if(loop==false){
                 sound.loop(true);
                 //this就是事件发生的元素
                 this.innerHTML="loop";
           }else{
                 sound.loop(false);
                 this.innerHTML="noloop";
           }           
      };

      document.getElementById('btn8').onclick=function(){
           alert(sound.duration());
      };

      document.getElementById('btn9').onclick=function(){
           alert(sound.seek());
      };
    </script>    
  </body>
</html>
